<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeviceMotion</title>
</head>

<body>
    <h1>Device Motion</h1>

    <h3>Acceleration <span id="acc"></span>.</h3>
    <h3>Acceleration with gravity <span id="accg"></span>.</h3>
    <h3>Rotation Rate <span id="rr"></span>.</h3>
    <h3>Interval <span id="int"></span>.</h3>

    <h1>Device Orientation</h1>

    <h3>Absolute <span id="abs"></span>.</h3>
    <h3>Alpha <span id="alp"></span>.</h3>
    <h3>Beta <span id="bet"></span>.</h3>
    <h3>Gamma <span id="gam"></span>.</h3>

    <script>

        let elemAcc = document.getElementById("acc");
        let elemAccg = document.getElementById("accg");
        let elemRr = document.getElementById("rr");
        let elemInt = document.getElementById("int");

        let elemAbs = document.getElementById("abs");
        let elemAlp = document.getElementById("alp");
        let elemBet = document.getElementById("bet");
        let elemGam = document.getElementById("gam");
        let elemWhea = document.getElementById("whea");
        let elemWacc = document.getElementById("wacc");

        initDeviceMotionEvent()

        DeviceMotionEvent.requestPermission()
            .then(response => {
                if (response == 'granted') {
                    window.addEventListener('devicemotion', (e) => {
                        elemAcc.textContent = `${event.acceleration.x} ${event.acceleration.y} ${event.acceleration.z}`;
                        elemAccg.textContent = `${event.accelerationIncludingGravity.x} ${event.accelerationIncludingGravity.y} ${event.accelerationIncludingGravity.z}`;
                        elemRr.textContent = `${event.rotationRate.alpha} ${event.rotationRate.beta} ${event.rotationRate.gamma}`;
                        elemInt.textContent = event.interval;
                    })
                }
            })
            .catch(console.error)

        DeviceOrientationEvent.requestPermission()
            .then(response => {
                if (response == 'granted') {
                    addEventListener('deviceorientation', (event) => {
                        elemAbs.textContent = event.absolute ? "True" : "False";
                        elemAlp.textContent = event.alpha;
                        elemBet.textContent = event.beta;
                        elemGam.textContent = event.gamma;

                        console.log("BABA")
                    });
                }
            })
            .catch(console.error)

    </script>

</body>


</html>